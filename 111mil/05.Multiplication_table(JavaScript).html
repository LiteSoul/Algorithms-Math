<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Multiplication Table</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bulma/0.6.2/css/bulma.css">
	<style>
		.input {
			width: 155px;
			-moz-appearance: textfield;
		}

		.input::-webkit-outer-spin-button,
		.input::-webkit-inner-spin-button {
			-webkit-appearance: none;
			margin: 0;
		}
	</style>
</head>

<body>
	<div class="section">
		<div class="container">
			<h3 class="title is-3 is-spaced">Algorithm "Multiplication Table"</h3>
			<br>
			<h5 class="subtitle is-5">Add the number you want to know the multiplication table of, and up to what number to be multiplied:</h5>

			<div class="field is-horizontal">
				<div class="field-label is-normal">
					<label class="label">Choose a number</label>
				</div>
				<div class="field-body">
					<div class="field">
						<input class="input" type="number" id="chosen">
					</div>
				</div>
			</div>

			<div class="field is-horizontal">
				<div class="field-label is-normal">
					<label class="label">And a multiplier</label>
				</div>
				<div class="field-body">
					<div class="field">
						<input class="input" type="number" id="multiplier">
					</div>
				</div>
			</div>

			<button id='goer'>Go</button>

			<table id="tableMain" class="table is-narrow is-hoverable is-striped is-bordered">
				<thead id="tableHead">
					<tr>
						<th>one</th>
						<th>two</th>
						<th>three</th>
					</tr>
				</thead>
				<tbody id="tableBody"></tbody>
			</table>

			<script>
				const chosen = document.getElementById('chosen')
				const multiplier = document.getElementById('multiplier')
				const tableMain = document.getElementById('tableMain')
				const tableHead = document.getElementById('tableHead')
				const tableBody = document.getElementById('tableBody')
				chosen.addEventListener('keydown', multiTable)
				chosen.addEventListener('keyup', multiTable)
				multiplier.addEventListener('keydown', multiTable)
				multiplier.addEventListener('keyup', multiTable)

				function multiTable() {
					//If user entered values on both, then function starts
					if (chosen.value > 0 && multiplier.value > 0) {
						// Removes the childs from tableBody before inserting new tables, like a RESET
						while (tableBody.hasChildNodes()) {
							tableBody.removeChild(tableBody.firstChild);
						}
						// Do the simple math, then creates elements and append them to tableBody to display
						let i = 1
						while (i <= multiplier.value) {

							result = chosen.value * i

							let tableRow = document.createElement('tr')
							let tableCell1 = document.createElement('td')
							let chosenText = document.createTextNode(chosen.value)
							let tableCell2 = document.createElement('td')
							let multiplierText = document.createTextNode(`* ${i} =`)
							let tableCell3 = document.createElement('td')
							let resultText = document.createTextNode(result)

							tableCell1.appendChild(chosenText)
							tableCell2.appendChild(multiplierText)
							tableCell3.appendChild(resultText)

							tableRow.appendChild(tableCell1)
							tableRow.appendChild(tableCell2)
							tableRow.appendChild(tableCell3)

							tableBody.appendChild(tableRow)

							i++
						}
					}

				}
			</script>

</body>

</html>